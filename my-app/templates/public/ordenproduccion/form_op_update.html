{% extends 'public/base_cpanel.html' %}

{% block title %}Registrar Nueva Orden de ProducciÃ³n{% endblock %}

{% block customCSS %}
<link rel="stylesheet" href="{{ url_for('static', filename='assets/css/file.css') }}" />

{% endblock %}

{% block body %}
<div class="card shadow-sm" style="border-radius: 10px;">
  {% if respuestaOp|length %}
  <div class="card-header bg-primary text-white text-center">
    <h3 class="fw-bold">
      <a href="/lista-de-op" class="text-white">
        <i class="bi bi-arrow-left-circle"></i>
      </a>
      ACTUALIZAR DATOS DE LA OP
    </h3>
  </div>
  <div class="card-body p-4">
    <form method="POST" action="{{ url_for('actualizar_op', id=respuestaOp.id_op) }}" autocomplete="off" enctype="multipart/form-data">
      <input type="hidden" name="id_op" value="{{ respuestaOp.id_op }}" />
      <div class="row g-4">
        <div class="col-md-2">
          <label for="codigo_op" class="form-label fw-bold text-primary">CÃ³digo OP</label>
          <div class="form-control" readonly>{{ respuestaOp.codigo_op }}</div>
        </div>
        <div class="col-md-3">
          <label for="nombre_cliente" class="form-label fw-bold text-primary">Nombre Cliente</label>
          <div class="form-control" readonly>{{ respuestaOp.nombre_cliente }}</div>
        </div>
        <div class="col-md-7">
          <label for="producto" class="form-label fw-bold text-primary">Producto</label>
          <input class="form-control" type="text" name="producto" value="{{ respuestaOp.producto }}" required />
        </div>
      </div>
      <div class="row g-4 mt-3">
        <div class="col-md-2">
          <label for="estado" class="form-label fw-bold text-primary">Estado</label>
          <select name="estado" class="form-control" required>
            <option value="{{ respuestaOp.estado }}">{{ respuestaOp.estado }}</option>
            <option value="ANULA">ANULA</option>
            <option value="FACTU">FACTU</option>
            <option value="CRUCE">CRUCE</option>
            <option value="INV">INV</option>
            <option value="LP">LP</option>
            <option value="NC">NC</option>
            <option value="PR">PR</option>
            <option value="PR CR">PR CR</option>
            <option value="TER">TER</option>
          </select>
        </div>
        <div class="col-md-2">
          <label for="cantidad" class="form-label fw-bold text-primary">Cantidad</label>
          <input class="form-control" type="text" name="cantidad" value="{{ respuestaOp.cantidad }}" required />
        </div>
        <div class="col-md-2">
          <label for="odi" class="form-label fw-bold text-primary">ODI</label>
          <input class="form-control" type="text" name="odi" value="{{ respuestaOp.odi }}" required />
        </div>
        <div class="col-md-3">
          <label for="empleado" class="form-label fw-bold text-primary">Vendedor</label>
          <div class="form-control" readonly>{{ respuestaOp.empleado }}</div>
        </div>
        <div class="col-md-3">
          <label for="fecha_registro" class="form-label fw-bold text-primary">Fecha de Registro</label>
          <div class="form-control" readonly>{{ respuestaOp.fecha_registro }}</div>
        </div>
      </div>
      <div class="text-center mt-4">
        <button type="submit" class="btn btn-primary">Actualizar</button>
      </div>
    </form>
  </div>
  {% else %}
  <div class="card-body p-4 text-center">
    <h2>No existe la Orden de ProducciÃ³n ðŸ˜­</h2>
    <hr />
  </div>
  {% endif %}
</div>
{% endblock %}
